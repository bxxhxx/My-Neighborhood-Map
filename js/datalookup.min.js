"use strict";var completeStarDataModel=[],map,startMap=function(){var e=window.innerWidth,n=15,o=34.1,i=-118.332;if(window.innerHeight>window.innerWidth&&window.innerWidth<701||window.innerHeight<window.innerWidth&&window.innerWidth<851)n=14;else{var t=100-e/1300*100,r=21604e-8*t;i+=r,1e3>e&&(n=14)}map=new google.maps.Map(document.getElementById("map"),{center:{lat:o,lng:i},zoom:n,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},streetViewControl:!1,mapTypeControl:!1})},sortTheData=function(e){var n=function(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0},o=e.replace("}\n\n==No","-\n|");o=o.replace(/\'\'/g,"");for(var i=o.split("| [["),t=1,r=i.length;r>t;t++){var a={};i[t]=i[t].replace("]]","");var l;i[t].indexOf("\n|-\n|")>-1&&-1===i[t].indexOf("\n|-\n| Radio")&&-1===i[t].indexOf("\n|-\n| Live")&&-1===i[t].indexOf("\n|-\n| Television")&&-1===i[t].indexOf("\n|-\n| Motion")&&-1===i[t].indexOf("\n|-\n| Recording")&&(l=i[t].indexOf("\n|-\n|"),i[t]=i[t].substring(0,l)+"\n|-\n|"),i[t].indexOf("\n|-\n| Dick Martin")>-1&&(l=i[t].indexOf("\n|-\n| Dick Martin"),i[t]=i[t].substring(0,l)+"\n|-\n|"),i[t]=i[t].replace(/\n\|-\n/g,"||"),i[t]=i[t].replace(/\n\|- \n/g,"||"),i[t]=i[t].replace(/\|\|\|/g,"||"),i[t]=i[t].replace("Hollywood & Vine","Hollywood Blvd. at Vine St."),i[t]=i[t].replace("Â½","");var d=i[t].split("||");d.pop();for(var p=0;p<d.length;p++)d[p]=d[p].trim();var s=d[0];for(l=s.indexOf("|"),l>0&&(d[0]=s.substring(0,l)),l=s.indexOf("<"),l>0&&(d[0]=s.substring(0,l)),l=s.indexOf("|A"),l>0&&(d[0]=s.substring(0,l)),l=s.indexOf("{{"),l>0&&(d[0]=s.substring(0,l)),p=2;p<d.length;p+=2)if(d[p].indexOf("! Name")>-1&&(d.pop(),d.pop()),d[p]){var c=d[p].split(" "),f=parseInt(c[0],10);5e3>f&&c[1].indexOf("Hollywood")>-1&&(d[p]=""+f+" Vine St."),f>6e3&&c[1].indexOf("Vine")>-1&&(d[p]=""+f+" Hollywood Blvd."),6915===f&&(d[p]="6915 Hollywood Blvd."),d[p]=d[p].replace("Special Plaque<br />",""),l=0,l=d[p].indexOf("|}"),l>0&&(d[p]=d[p].substring(0,l))}for(p=0;p<d.length;p++)d[p].indexOf("! Name")>-1&&d.pop();if(d.length/2%2!==0&&d.length<12){a.fullName=d[0],a.category=[],a.address=[];var u=(d.length-1)/2;for(p=0;u>p;p++){var g=2*p;a.category.push(d[g+1]),a.address.push(d[g+2])}}n(a)===!1&&completeStarDataModel.push(a)}},initMap=function(){startMap();var e=setTimeout(function(){var e=document.getElementById("topSection");e.innerHTML='<p class="error">Wikipedia API Unavailable<br/>to show star list!!</p>'},8e3);$.ajax({url:"https://en.wikipedia.org/w/api.php",data:{action:"query",prop:"revisions",format:"json",rvprop:"content",pageids:"1310953"},dataType:"jsonp"}).done(function(n){var o=n.query.pages[1310953].revisions[0]["*"];sortTheData(o),$(".listContainerBlock__list").removeClass("hideFirst"),ko.applyBindings(new ViewModel),clearTimeout(e)}).fail(function(){completeStarDataModel=defaultCompleteStarDataModel,$(".listContainerBlock__list").removeClass("hideFirst"),ko.applyBindings(new ViewModel),clearTimeout(e)})},errorHandling=function(){if(!document.body){var e=document.createElement("body");document.documentElement.appendChild(e),console.log("created body")}document.body.innerHTML="";var n=document.createElement("p"),o=document.createTextNode("Google Map API Unavailable!");n.appendChild(o),document.body.appendChild(n),$("p").addClass("error")};